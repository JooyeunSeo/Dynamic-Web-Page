<!DOCTYPE HTML>
<!--
	Phantom by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>{% block title %}Yon's Portfolio{% endblock %}</title>     <!-- ìì‹ í˜ì´ì§€ì—ì„œ ë¸Œë¼ìš°ì € íƒ­ ì´ë¦„ ë™ì  ì„¤ì • -->
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
        <!-- CSS -->
		<link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}" />
		<noscript><link rel="stylesheet" href="{{ url_for('static', filename='css/noscript.css') }}" /></noscript>
        <!-- Select2 CSS -->
        <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
        <!-- Favicon -->
        <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
	</head>

	<body class="is-preload">
		<!-- Wrapper -->
			<div id="wrapper">

				<!------------------------- Header ------------------------->
					<header id="header">
						<div class="inner">
							<!-- Logo -->
								<a href="{{ url_for('home') }}" class="logo">
									<span class="symbol"><img src="{{ url_for('static', filename='images/logo.png') }}" alt="" /></span>
									<span class="title">Yon's Portfolio</span>
								</a>

							<!-- Nav -->
								<nav>
									<ul>
										<li><a href="#menu">Menu</a></li>
									</ul>
								</nav>
						</div>
					</header>

				<!-- Menu -->
					<nav id="menu">
						<h2>Menu</h2>
						<ul>
							{% if not current_user.is_authenticated: %}
							  <li><a href="{{ url_for('register') }}">ğŸ“ Register</a></li>
							  <li><a href="{{ url_for('login') }}">ğŸ” Login</a></li>
							{% else %}
							  <li><a href="{{ url_for('logined_page', name=current_user.name) }}">ğŸ˜„ <u>{{current_user.name}}</u>'s Page</a></li>
							  <li><a href="{{ url_for('logout') }}">ğŸ”’ Logout</a></li>
							{% endif %}
							<li><a href="{{ url_for('home') }}">Home</a></li>
							<li><a href="{{ url_for('contact') }}">Contact me</a></li>
						</ul>
					</nav>


                <!-- ğŸ‘¶ Child Contents -->
                {% block content %}
				  <!-- Load Bootstrap-Flask CSS here -->
			      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
			      <!-- Link to the styles.css here to apply styling to all the child templates.-->
			      <link href="{{ url_for('static', filename='css/styles.css') }}" rel="stylesheet" />
                {% endblock %}


				<!-------------------------- Footer -------------------------->
					<footer id="footer">
						<div class="inner">

							<section>
								<h2>Follow</h2>
								<ul class="icons">
									<li><a href="https://github.com/JooyeunSeo" class="icon brands style2 fa-github"><span class="label">GitHub</span></a></li>
									<li><a href="https://jooyeunseo.github.io/" class="icon solid style2 fa-blog"><span class="label">Blog</span></a></li>
									<li><a href="{{ url_for('contact') }}" class="icon solid style2 fa-envelope"><span class="label">Email</span></a></li>
								</ul>
							</section>
							<ul class="copyright">
								<li>&copy; Untitled. All rights reserved</li>
								<li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
								<li>Laptop icon: <a href="https://www.flaticon.com/free-icon/laptop_610021?term=laptop&page=1&position=14&origin=tag&related_id=610021" title="laptop icon">Flaticon</a></li>
							</ul>
						</div>
					</footer>
			</div>

		    <!----------------------------------------- JS ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ ------------------------------------------>

            <script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>        <!-- ë¡œì»¬ jQuery -->

            <!-- ì™¸ë¶€ CDN ë¼ì´ë¸ŒëŸ¬ë¦¬: jQueryë³´ë‹¤ ì•„ë˜, main.jsë³´ë‹¤ ìœ„ -->
            <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>  <!-- Select2 JS -->

			<script src="{{ url_for('static', filename='js/browser.min.js') }}"></script>       <!-- ë¸Œë¼ìš°ì € í˜¸í™˜ì„± ì²´í¬ -->
			<script src="{{ url_for('static', filename='js/breakpoints.min.js') }}"></script>   <!-- ë°˜ì‘í˜• ì›¹ ì²˜ë¦¬ -->
			<script src="{{ url_for('static', filename='js/util.js') }}"></script>              <!-- ê³µìš© ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ -->
			<script src="{{ url_for('static', filename='js/main.js') }}"></script>              <!-- í…œí”Œë¦¿ì˜ í•µì‹¬ JS ë¡œì§ -->

            <!-- ì„ íƒì  JS/CSS ì ìš© ë¸”ë¡ -->
            {% block page_scripts %}{% endblock %}

			<!----------- ë¡œì»¬ ì‹œê°„ëŒ€ ìŠ¤í¬ë¦½íŠ¸ ------------>
			<script>
			document.addEventListener("DOMContentLoaded", function () {
				// ì„¸ì…˜ì— ì‹œê°„ëŒ€ê°€ ì—†ë‹¤ë©´ ì„œë²„ì— ì‹œê°„ëŒ€ë¥¼ ì „ì†¡
				if (!sessionStorage.getItem("timezone_sent")) {
					const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;

					fetch("/set_timezone", {
						method: "POST",
						headers: {
							"Content-Type": "application/json",
							"X-CSRFToken": "{{ csrf_token }}"
						},
						body: JSON.stringify({ timezone: timezone })
					})
					.then(response => {
						if (response.ok) {
							// ì¤‘ë³µ ì „ì†¡ ë°©ì§€
							sessionStorage.setItem("timezone_sent", "true");
							// í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨í•˜ì—¬ ì„œë²„ê°€ ë¡œì»¬ ì‹œê°„ëŒ€ë¡œ ì²˜ë¦¬í•œ ê°’ í‘œì‹œ
							window.location.reload();
						}
					})
					.catch(error => {
						console.error("ì‹œê°„ëŒ€ ì „ì†¡ ì‹¤íŒ¨:", error);
					});
				}
			});
			</script>

	</body>
</html>
